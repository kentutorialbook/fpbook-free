= é«˜éšé–¢æ•°
:sectnums:
ifndef::toc:[:toc: left]
ifndef::toplevels:[:toclevels: 2]
ifndef::stem[:stem: latexmath]
ifndef::icons[:icons: font]
ifndef::imagesdir[:imagesdir: ../img/]
ifndef::source-highlighter[:source-highlighter: highlightjs]
ifndef::highlightjs-theme:[:highlightjs-theme: tomorrow-night-eighties]
ifndef::icons[:icons: font]

++++
<style type="text/css">
th,td {
    border: solid 0px;
}ã€€
p>code {background-color: #aaaaaa};
td>code {background-color: #aaaaaa};
</style>
++++

é–¢æ•°ã¯å¤šé‡æ§‹é€ ã«ãªã‚Šã¾ã™ã€‚

ãã—ã¦ã€é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(é€£æƒ³é…åˆ—)ã‚‚é–¢æ•°ã®ã²ã¨ã¤ã§ã™ã€‚


== é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(é€£æƒ³é…åˆ—)ã¯é–¢æ•°ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹

JavaScriptã«ã¯é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(é€£æƒ³é…åˆ—)ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒã‚ã‚Šã¾ã™ã€‚

link:https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array[Array]

> JavaScript ã® Array ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€é…åˆ—ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€é…åˆ—ã¨ã¯è¤‡æ•°ã®è¦ç´ ã®é›†åˆã‚’æ ¼ç´ç®¡ç†ã™ã‚‹ãƒªã‚¹ãƒˆæ§‹é€ ã§ã™ã€‚

link:https://developer.mozilla.org/ja/docs/Web/JavaScript/Guide/Working_with_Objects[ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£]

> JavaScript ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ãƒ–ãƒ©ã‚±ãƒƒãƒˆ (è§’æ‹¬å¼§) è¨˜è¿°æ³•ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ (è©³ã—ãã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã‚¢ã‚¯ã‚»ã‚µãƒ¼ã‚’å‚ç…§ã—ã¦ãã ã•ã„)ã€‚å€‹ã€…ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæ–‡å­—åˆ—å€¤ã¨é–¢é€£ä»˜ã‘ã‚‰ã‚Œã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãŸã‚ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯é€£æƒ³é…åˆ—ã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

JavaScriptã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯link:https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/JSON[JSON]ã¨ã—ã¦å„ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ã‚‚åºƒãç”¨ã„ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

=== é…åˆ—

ä»Šã€JavaScriptã®é…åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’ã¤ã‹ã£ã¦ã€ã‹ã‚“ãŸã‚“ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

é…åˆ—ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã¯ã€æ ¼ç´ã•ã‚ŒãŸå€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ã€`0`,`1`,`2` ã¨ã„ã£ãŸã€ãƒ‡ãƒ¼ã‚¿ã®ä¸¦ã³é †ã«è‡ªå‹•çš„ã«ä»˜ä¸ã•ã‚ŒãŸè‡ªç„¶æ•°ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ã„ã¾ã™ã€‚

[width=80%, cols="^,^"]
.fruité…åˆ—
|===
|ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹|ãƒ‡ãƒ¼ã‚¿

|0
|ğŸ

|1
|ğŸŒ

|2
|ğŸŠ
|===

[source,js]
.é…åˆ—ã€€
----
    const fruit = ["Apple", "Banana", "Orange"];

    console.log(
      fruit[1]
    );
----

[source,js]
.Console
----
Banana
----

image::2-7-2020-14-40-23-PM.png[]


**é…åˆ—ã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨è¦ç´ ã®å¯¾å¿œã§ã€å†™åƒã‚’å½¢æˆã—ã¦ã„ã‚‹ã®ã§é–¢æ•°ã§ã™ã€‚**

=== é€£æƒ³é…åˆ—ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰

é…åˆ—ã®ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã®ä¸¦ã³é †ã«è‡ªå‹•çš„ã«ä»˜ä¸ã•ã‚ŒãŸè‡ªç„¶æ•°ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ã†ã®ã§ã¯ãªãã€ãƒ¦ãƒ¼ã‚¶ãŒæ–‡å­—åˆ—ã®ã‚­ãƒ¼ã‚’ä»˜ä¸ã™ã‚Œã°ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(é€£æƒ³é…åˆ—)ã¨ãªã‚Šã¾ã™ã€‚

[width=80%, cols="^,^"]
.è‹±å’Œè¾æ›¸
|===
|ã‚­ãƒ¼|ãƒ‡ãƒ¼ã‚¿

|book
|æœ¬

|water
|æ°´

|cat
|çŒ«
|===


[source,js]
.ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆé€£æƒ³é…åˆ—ï¼‰ã€€
----
    const dictionary = {
      "book": "æœ¬",
      "water": "æ°´",
      "cat": "çŒ«",
    };
    console.log(
      dictionary["cat"]
    );
----

[source,js]
.Console
----
çŒ«
----

image::2-7-2020-14-41-19-PM.png[]


**ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯é€£æƒ³é…åˆ—ã¨ã‚‚å‘¼ã°ã‚Œã¦ãŠã‚Šã€è¾æ›¸ã®ã‚ˆã†ã«æ©Ÿèƒ½ã—ã¦ã„ã¦ã€ã“ã‚Œã‚‚å†™åƒã‚’å½¢æˆã—ã¦ã„ã‚‹ã®ã§é–¢æ•°ã§ã™ã€‚**


image::2-7-2020-13-09-51-PM.png[]

ç‰¹ã«ã€å„è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã®ã€

[source,js]
----
  fruit[1]
  dictionary["cat"]
----
ã¯ã€

image::6-7-2020-21-26-22-PM.png[]

ã®è¡¨è¨˜ã¨é…·ä¼¼ã—ã¦ãŠã‚Š `[]` ã¨ `()` ãŒç•°ãªã‚‹ã ã‘ã§ã™ã€‚


== é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¤šé‡æ§‹é€ 

é…åˆ—ã¯åˆ¥ã®é…åˆ—ã«å…¥ã‚Œå­ã«ã™ã‚‹ã“ã¨ã§ã€å¤šé‡æ§‹é€ ã‚’å½¢æˆã§ãã¾ã™ã€‚

[width=80%, cols="^,^"]
.é£Ÿã¹ç‰©ï¼ˆfoodï¼‰ã®å¤šé‡é…åˆ—
|===
|ãƒ•ãƒ«ãƒ¼ãƒ„|[ğŸ, ğŸŒ, ğŸŠ]
|è‚‰|[ğŸ¥©, ğŸ¥“, ğŸ—]
|ã‚¹ã‚¤ãƒ¼ãƒ„|[ğŸ°, ğŸ«, ğŸ§]
|===

[source,js]
.é…åˆ—ã®åˆæˆ
----
    const fruit = ["Apple", "Banana", "Orange"];
    const meat = ["beef", "bacon", "chicken"];
    const sweet = ["cake", "choco", "ice"];

    const food = [fruit, meat, sweet];

    console.log(
      food[0]  // ["Apple", "Banana", "Orange"]
    );
    console.log(
      food[1]  // ["beef", "bacon", "chicken"]
    );
    console.log(
      food[2]  // ["cake", "choco", "ice"]
    );
    console.log(
      food[2][0]  // "cake"
    );
----

[source,js]
.Console
----
["Apple", "Banana", "Orange"]
["beef", "bacon", "chiken"]
["cake", "choco", "ice"]
"cake"
----

image::2-7-2020-14-48-30-PM.png[]

[source,js]
.é…åˆ—ã®åˆæˆ
----
    const a = [1, 2];

    const b = [a, a, a];

    console.log(
      b  //  [ [ 1, 2 ], [ 1, 2 ], [ 1, 2 ] ]
    );

    console.log(
      b[0] //  [ 1, 2 ]
    );

    console.log(
      b[0][1] //2
    );

----

[source,js]
.Console
----
[ [ 1, 2 ], [ 1, 2 ], [ 1, 2 ] ]
[ 1, 2 ]
2
----

image::2-7-2020-15-00-26-PM.png[]

image::2-7-2020-15-01-19-PM.png[]

`a` ãŒä¸€æ¬¡å…ƒé…åˆ—ã«ãŸã„ã—ã¦ã€`b` ã¯äºŒæ¬¡å…ƒé…åˆ—ã€ã‚ã‚‹ã„ã¯å¤šæ¬¡å…ƒé…åˆ—ã¨å‘¼ã°ã‚Œã¾ã™ã€‚

ãã—ã¦ã€é…åˆ—ã¯é–¢æ•°ãªã®ã§ã€é–¢æ•°ã®å¤šé‡æ§‹é€ ã‚’å½¢æˆã—ã¦ã„ã¾ã™ã€‚

ã“ã®ã‚ˆã†ã«ã€å¤šé‡æ§‹é€ ã¨ãªã£ã¦ã„ã‚‹é–¢æ•°ã‚’link:https://ja.wikipedia.org/wiki/%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0[é«˜éšé–¢æ•°](link:https://en.wikipedia.org/wiki/Higher-order_function[Higher-order function])ã¨å‘¼ã³ã¾ã™ã€‚

ã‚‚ã¡ã‚ã‚“ã€å¤šé‡æ§‹é€ ã«ãªã£ã¦ã„ã‚‹é…åˆ—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚‚é«˜éšé–¢æ•°ã§ã™ã€‚


=== å¤šé‡æ§‹é€ ã®é…åˆ—ã®è¦ç´ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
`b[0]` = `[1, 2]` = `a` ãªã®ã§

`a[1]` = `(b[0])[1]` = `b[0][1]`  = `2`

=== å¤šé‡æ§‹é€ ã®é–¢æ•°ã¸ã®å¤šé‡ã‚¤ãƒ³ãƒ—ãƒƒãƒˆ

`f(0)`ã€€= `g` ã¨ã—ãŸã¨ã

`g(1)` = `(f(0))(1)` = `f(0)(1)`

é…åˆ—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆé€£æƒ³é…åˆ—ï¼‰ã‚‚é–¢æ•°ã‚‚ã€å¤šé‡æ§‹é€ ã®è¡¨è¨˜ã®ä»•æ–¹ã¯ã‚«ãƒƒã‚³ã®ç¨®é¡ãŒç•°ãªã‚‹ã ã‘ã§åŒã˜ã«ãªã‚Šã¾ã™ã€‚


[NOTE]
.ã‚«ãƒƒã‚³ã‚’å¤–ã™
====
JavaScriptã‚’ãµãã‚€ä»–ã®å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã¯ã€`()` ãŒlink:https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Operator_Precedence[æ¼”ç®—å­ã®å„ªå…ˆé †ä½]ã¨ã—ã¦ã‚‚ã£ã¨ã‚‚é«˜ããªã£ã¦ã„ã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰ãŒè¤‡é›‘ã«ãªã‚‹ã«ã¤ã‚Œã€è«–ç†çš„ã«ã²ã¨ã¾ã¨ã¾ã‚Šã®éƒ¨åˆ†ã¯ã€ç©æ¥µçš„ã« `()` ã§ããã‚‹ã“ã¨ã§ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒã¯JavaScriptã‚¨ãƒ³ã‚¸ãƒ³ãŒã‚³ãƒ¼ãƒ‰ã‚’æƒ³å®šã—ã¦ã„ãªã„è§£é‡ˆã‚’ã—ã¦ã—ã¾ã†ã“ã¨ã‹ã‚‰é˜²ãã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

é…åˆ—ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€

`a` = `b[0]` ã®ã¨ã +
`a[1]` ã®æ„å‘³ã‚’ç¢ºå®šã™ã‚‹ãŸã‚ã« +
`(b[0])[1]`  +
ã¨ã‚«ãƒƒã‚³ã§ããã‚ŠãŸããªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä¸è¦ã§ +
`b[0][1]` ã®ã»ã†ãŒç°¡æ½”ã§ã‚¹ãƒãƒ¼ãƒˆãªè¨˜æ³•ã¨ãªã‚Šã¾ã™ã€‚

é–¢æ•°ã§ã‚‚åŒã˜ã‚ˆã†ã«ã€

`(f(0))(1)` ã§ã¯ãªã +
`f(0)(1)` ã¨ã—ãŸã»ã†ãŒç°¡æ½”ã§ã‚¹ãƒãƒ¼ãƒˆãªè¨˜æ³•ã§ã™ã€‚

====

f(x)è¡¨è¨˜ã¯åˆæˆé–¢æ•°ã®ã¨ãå…¥ã‚Œå­ã«ãªã‚‹ã€ã‚ã‹ã‚Šã«ãã„ã€‚
ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã¯åˆæˆé–¢æ•°ã‚’è¡¨ç¾ã™ã‚‹ã¨ãã€ã‚¤ãƒ¡ãƒ¼ã‚¸ãã®ã¾ã¾ãªã®ã§ã‚ã‹ã‚Šã‚„ã™ããªã‚‹ã€‚

f(x)è¡¨è¨˜ã¯é«˜éšé–¢æ•°ãŒé©ç”¨ã•ã‚Œã‚‹ã¨ãå…¥ã‚Œå­ã«ãªã‚‰ãªã„ã€ã‚ã‹ã‚Šã‚„ã™ããªã‚‹ã€‚ã€€
ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã¯é«˜éšé–¢æ•°ãŒé©ç”¨ã•ã‚Œã‚‹ã¨ãå…¥ã‚Œå­ã«ãªã‚Šã‚ã‹ã‚Šã«ãããªã‚‹ã€‚


== é–¢æ•°ã¯è¤‡æ•°ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’å‡¦ç†ã§ãã‚‹

=== å¤©æ°—äºˆå ±ã¨ã„ã†é–¢æ•°

[source,js]
.å¤©æ°—äºˆå ±ãƒ‡ãƒ¼ã‚¿
----
    const weekly = {
      "sapporo": ["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜€", "â˜€", "â˜€"],
      "tokyo__": ["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜€", "â˜€", "â˜€"],
      "nagoya_": ["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜€", "â˜€", "â˜€"],
      "osaka__": ["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜‚", "â˜€", "â˜€"],
      "fukuoka": ["â˜‚", "â˜‚", "â˜‚", "â˜‚", "â˜‚", "â˜€", "â˜€"],
      "naha___": ["â˜‚", "â˜‚", "â˜‚", "â˜‚", "â˜€", "â˜€", "â˜€"]
    };
----

**éƒ½å¸‚**ãŒã‚­ãƒ¼ã§ã€**é€±é–“å¤©æ°—äºˆå ±**ã®é…åˆ—ï¼ˆé–¢æ•°ï¼‰ãŒãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆé€£æƒ³é…åˆ—ï¼‰ã«ãªã£ã¦ã„ã¾ã™ã€‚

`weekly["sapporo"]` ã¨ã™ã‚Œã°ã€ +
`["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜€", "â˜€", "â˜€"]`
ã¨é€±é–“äºˆå ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹æ§‹é€ ã®é…åˆ—ã§ã™ã€‚

ã•ã‚‰ã«ã€

`["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜€", "â˜€", "â˜€"][0]` ã¨ã™ã‚Œã°ã€ +
ã€Œä»Šæ—¥ã€ã®æœ­å¹Œã®å¤©æ°—ã¯ `â˜‚`

`["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜€", "â˜€", "â˜€"][1]` ã¨ã™ã‚Œã°ã€ +
ã€Œæ˜æ—¥ã€ã®æœ­å¹Œã®å¤©æ°—ã¯ `â˜€`

ã¨ãªã‚Šã¾ã™ã€‚å¾“ã£ã¦ä¸€æ°—ã«è¡¨è¨˜ã™ã‚‹ãªã‚‰ã°ã€

`weekly["sapporo"][1]` =  `â˜€` ã¨

æœ­å¹Œã®æ˜æ—¥ã®å¤©æ°—ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

ã“ã‚Œã¯link:https://ja.wikipedia.org/wiki/%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0[é«˜éšé–¢æ•°](link:https://en.wikipedia.org/wiki/Higher-order_function[Higher-order function])ã§ã™ã€‚


== è¤‡æ•°ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’ã¨ã‚‹é–¢æ•°ã¸ã®ãŠãã‹ãˆ

é…åˆ—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯é–¢æ•°ãªã®ã§ã€ãã‚Œè‡ªä½“ã§å®Œçµã—ã¦ãŠã‚Šã€ãã‚Œä»¥ä¸Šä½™è¨ˆãªã“ã¨ã‚’ã—ãªã„ã»ã†ãŒã‚³ãƒ¼ãƒ‰ãŒã‚¹ãƒƒã‚­ãƒªã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ãŒã€ã‚¢ãƒ­ãƒ¼é–¢æ•°ï¼ˆãƒ©ãƒ ãƒ€å¼ï¼‰ã«ç½®ãæ›ãˆã‚‹ã“ã¨ã§ä¾¿åˆ©ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

ã¾ãšã¯ã€ã‚ã‚“ã¾ã‚Šæ„å‘³ã®ãªã„ç½®ãæ›ãˆã§ã™ã€‚


[source,js]
.å¤©æ°—äºˆå ±é–¢æ•°
----
    const forecast =
    ã€€ã€€   (city, date) => weekly[city][date];
----

**éƒ½å¸‚**(`city`)ã¨**æ—¥ä»˜**(`date`)ã¨ã„ã†2ã¤ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆ +
ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¯ã€`"â˜€"` `"â˜‚"` ã®ã„ãšã‚Œã‹ã¨ãªã‚‹é–¢æ•°ã§ã™ã€‚

image::2-7-2020-15-03-54-PM.png[]

image::2-7-2020-15-05-51-PM.png[]

[source,js]
.æ±äº¬ã®æ˜æ—¥ã®å¤©æ°—
----
    console.log(
      forecast("tokyo__", 1)  <1>
    ); <2>
----
<1> **éƒ½å¸‚**(`city`)ã¯ `"tokyo__"` ã§æ±äº¬ã€**æ—¥ä»˜**(`date`)ã¯ `1` ã§æ˜æ—¥
<2> â˜€

`forecast(city, date)` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã®ã§ã™ãŒã€**ãã‚‚ãã‚‚**
`weekly[city][date]` **ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¦ã„ãŸ**ã®ã§ã€å˜ã«è¡¨è¨˜ã®ç½®ãæ›ãˆã€ã«ã—ã‹ãªã£ã¦ã„ã¾ã›ã‚“ã€‚

ã“ã‚Œã¯æ„å‘³ãŒãªãã€è‰¯ãã‚ã‚Šã¾ã›ã‚“ã€‚

== ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒé–¢æ•°ã€ã§ã‚ã‚‹é«˜éšé–¢æ•°

`forecast(city, date)` ã¯ãã®æ—¥ã®å¤©æ°—ã«ã—ã‹ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ãŒã€ +
`weekly[city][date]` ã¯ãã®æ—¥ã®å¤©æ°—ã ã‘ã§ã¯ãªãã€ +
`weekly[city]` ã§é€±é–“å¤©æ°—äºˆå ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã—ãŸã€‚

ã‚‚ã¨ã‚‚ã¨ãã†ã„ã†é€£æƒ³é…åˆ—ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚

image::2-7-2020-15-07-57-PM.png[]

[source,js]
.æ±äº¬ã®é€±é–“äºˆå ±é–¢æ•°ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆ
----
    console.log(
    ã€€weekly["tokyo__"]
    );
----

[source,js]
.Console
----
["â˜‚", "â˜€", "â˜€", "â˜‚", "â˜€", "â˜€", "â˜€"]
----

image::2-7-2020-15-09-18-PM.png[]

ã‚¢ãƒ­ãƒ¼é–¢æ•°ã‚’ç”¨æ„ã™ã‚‹ã®ã§ã‚ã‚Œã°ã€ã‚ã‚‹éƒ½å¸‚ã®é€±é–“äºˆå ±ï¼ˆé–¢æ•°ï¼‰ã®ã»ã†ãŒè‰¯ã„ã§ã™ã€‚

[source,js]
.æ±äº¬ã®é€±é–“äºˆå ±é–¢æ•°ã‚’æ—¥ä»˜ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®ã‚¢ãƒ­ãƒ¼é–¢æ•°ã«ã—ã¦ãŠã
----
    const weekyTokyo =
           date => weekly["tokyo__"][date];
----

[source,js]
.æ±äº¬ã®é€±é–“äºˆå ±é–¢æ•°ã«æ—¥ä»˜ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã—ã¦ã€å¤©æ°—äºˆå ±ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆ
----
    console.log(
      weekyTokyo(1)
    );
----

[source,js]
.Console
----
â˜€
----

imazge::2-7-2020-15-10-32-PM.png[]

ä»»æ„ã®éƒ½å¸‚ã®é€±é–“äºˆå ±ï¼ˆé–¢æ•°ï¼‰ã‚’å¾—ã‚‰ã‚Œã‚‹ `forecast` é–¢æ•°ã¯ã“ã†ãªã‚Šã¾ã™ã€‚

[source,js]
----
    const forecast =
      ã€€ã€€ã€€city => (date => weekly[city][date]);
----

note!!!
    //é«˜éšé–¢æ•°ã§ã€å…¥ã‚Œå­ã®ä¸­ã®å¼•æ•°ãŒä½¿ãˆã‚‹ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¨ã„ã†å®Ÿè£…

    ã“ã†ã„ã†é«˜éšé–¢æ•°ãŒè‡ªç„¶ã«è¡¨ç¾ã§ãã‚‹ã‚ˆã†ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã ã‘ã§ã€
    ä¸€éƒ¨ã€è¦šãˆã¦ãŠãã¹ããƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã®ã‚ˆã†ã«å–§ä¼ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€
    é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®æ çµ„ã¿ã§ã¯iæ°—ã«ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
note!!!

image::2-7-2020-15-29-47-PM.png[]

ã“ã†ã—ã¦ãŠã‘ã°ã€

[source,js]
----
    const weekyTokyo = forecast("tokyo__");
    const weekyFukuoka = forecast("fukuoka");
----

ã¨ `forecast` é–¢æ•°ã‹ã‚‰ã€ä»»æ„ã®éƒ½å¸‚ã®é€±é–“äºˆå ±ï¼ˆé–¢æ•°ï¼‰ã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

æ˜æ—¥ã®å¤©æ°—äºˆå ±ã‚’å¾—ã‚‹ã«ã¯ã€

[source,js]
----
    console.log(
      weekyTokyo(1)
    );
    console.log(
      weekyFukuoka(1)
    );
----

[source,js]
.Console
----
â˜€
â˜‚
----

ã¨ãªã‚Šã¾ã™ã€‚

ã—ã‹ã—ã€ã‚ˆãã‚ˆãè€ƒãˆã‚‹ã¨ã€

[source,js]
----
    console.log(
      forecast("tokyo__")(1)
    );
    console.log(
      forecast("fukuoka")(1)
    );
----

[source,js]
.Console
----
â˜€
â˜‚
----

ã¨ã™ã‚Œã°ã„ã„ã ã‘ã®ã“ã¨ã§ã™ã—ã€è¦‹ã‚„ã™ã•ã‚‚åŒã˜ã€ä½™è¨ˆãªé–¢æ•°ã‚’å®šç¾©ã—ãªãã¦æ¸ˆã‚€ã®ã§ã€ã“ã¡ã‚‰ã®ã»ã†ãŒè‰¯ã„ã§ã™ã€‚

ã¤ã¾ã‚Šã€

[source,js]
----
    const forecast =
      ã€€ã€€ã€€city => (date => weekly[city][date]);
----
ã¨ã—ã¦å®šç¾©ã—ãŸå ´åˆã€ +
`forecast(city)` ã§é€±é–“å¤©æ°—äºˆå ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã€ +
`forecast(city)(date)` ã§ã•ã‚‰ã«ç‰¹å®šã«æ—¥æ™‚ã®å¤©æ°—äºˆå ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã€‚


[NOTE]
.æ¯”è¼ƒã—ã¦ã¿ã‚ˆã†
====
[source,js]
----
    {
   ã€€ã€€const forecast =
    ã€€ã€€   (city, date) => weekly[city][date];ã€€<1>

      console.log(
        forecast("tokyo__", 1)
      );
    }
    {
      const forecast =
      ã€€ã€€ã€€city => date => weekly[city][date]; <2>

      console.log(
        forecast("tokyo__")(1)
      );
    }
----
<1> 2ã¤ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®é–¢æ•°
<2> ãƒ©ãƒ ãƒ€å¼ã®é€£é–ã§æ›¸ãç›´ã•ã‚Œã¦ã„ã‚‹(link:https://ja.wikipedia.org/wiki/%E3%82%AB%E3%83%AA%E3%83%BC%E5%8C%96[ã‚«ãƒªãƒ¼åŒ–])ã€‚ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®é–¢æ•°ã‚’ã‹ã“ã‚€()ã¯å¤–ã—ã¦ã„ã‚‹
====

ã“ã‚Œã¯é…åˆ—ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’ãã®ã¾ã¾æ“ä½œã—ã¦ã„ãŸã¨ãã€ +
`weekly[city]` ã§é€±é–“å¤©æ°—äºˆå ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã€ +
`weekly[city][date]` ã§ã•ã‚‰ã«ç‰¹å®šã«æ—¥æ™‚ã®å¤©æ°—äºˆå ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã€‚

ã¨ã„ã†æ§‹å›³ã¨ã¾ã£ãŸãåŒã˜ã«ãªã£ã¦ã„ã¾ã™ã€‚

ã‚ã‚Œï¼Ÿãã‚Œãªã‚‰ã°ã€ã“ã‚Œã‚‚ä¸€å‘¨ã¾ã‚ã£ã¦ã€ã‚ã‚“ã¾ã‚Šæ„å‘³ã®ãªã„å˜ãªã‚‹è¡¨è¨˜ã®ç½®ãæ›ãˆã«ã™ããªã‹ã£ãŸã®ã§ã¯ãªã„ã‹ï¼Ÿã‚„ã£ã±ã‚Šé…åˆ—ã‚’ãã®ã¾ã¾ä½¿ã£ã¦ã‚‚è‰¯ã‹ã£ãŸã®ã§ã¯ï¼Ÿï¼Ÿã¨ç–‘å¿µãŒå‡ºã¦ãã¾ã™ãŒã€å®Ÿã¯ã¾ã ã¾ã ã¨ã‚“ã§ã‚‚ãªãå¤§ããªãƒ¡ãƒªãƒƒãƒˆãŒéš ã‚Œã¦ã„ã¾ã™ã€‚

ã¾ãšã€ä½™è¨ˆãªã‚«ãƒƒã‚³ã‚’å¤–ã—ã¾ã™ã€‚

[source,js]
----
    const forecast =
      ã€€ã€€ã€€city => date => weekly[city][date];
----

æ¬¡ã«ãªã‚“ã¨ãªãã€ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã® `city` ã¨ `date` ã®ä½ç½®ã‚’äº¤æ›ã—ã¦ã¿ã¾ã™ã€‚

[source,js]
.city date ã®ä½ç½®ã‚’å…¥ã‚Œæ›¿ãˆã‚‹
----
    const forecast =
      ã€€ã€€ã€€date => city => weekly[city][date];
----

ã“ã‚Œã§é–¢æ•°ã®æ„å‘³ãŒå¤‰ã‚ã‚Šã¾ã—ãŸã€‚

ã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«å†ã³ `()` ã‚’ã¤ã‘ã‚‹ã¨ã€
[source,js]
----
    const forecast =
      ã€€ã€€ã€€date => (city => weekly[city][date]);
----

**æ—¥æ™‚ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã—ã¦ã€Œå„åœ°ã®äºˆå ±ã€é–¢æ•°ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹é–¢æ•°ã«ãªã£ã¦ã„ã¾ã™ã€‚**

image::2-7-2020-15-31-24-PM.png[]

image::2-7-2020-15-32-57-PM.png[]

image::2-7-2020-15-33-51-PM.png[]

image::2-7-2020-15-35-00-PM.png[]

[source,js]
----
      const forecast = date => city => weekly[city][date]; <1>

      const tommorow = forecast(1); <2>

      console.log(
        tommorow("tokyo__")
      ); <3>
----
<1> æ—¥æ™‚ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã—ã¦ã€Œå„åœ°ã®äºˆå ±ã€é–¢æ•°ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹é–¢æ•°ã‚’å®šç¾©
<2> å„åœ°ã®äºˆå ±ï¼ˆæ˜æ—¥ï¼‰ã®é–¢æ•°ã‚’å®šç¾©
<3> â˜€

é…åˆ— `weekly[city][date]` ãã®ã¾ã¾ã§ã¯ã“ã®èŠ¸å½“ã¯ä¸å¯èƒ½ã§ã™ã€‚

`weekly[city]` ã¯é€£æƒ³é…åˆ—ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãã®ã¾ã¾ãªã®ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã®ã§ã™ãŒã€ +
`weekly[date]` ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚

ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚“ã‚‰ã‹ã®ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’ã¤ã‹ã£ã¦é…åˆ—ã‚’ãƒˆãƒ¬ãƒ¼ã‚¹ã—ãŸã‚Šã€ã‚ã‚‹ã„ã¯ã„ã¡ã„ã¡é¢å€’ãªã®ã§è«¦ã‚ã¦ã€ãªã‚“ã‚‰ã‹ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã†ã—ã‹ãªã„ã§ã—ã‚‡ã†ã€‚

ã¨ã“ã‚ãŒã€ã‚¢ãƒ­ãƒ¼è¡¨è¨˜ï¼ˆãƒ©ãƒ ãƒ€å¼ï¼‰ã‚’ä½¿ã£ãŸé–¢æ•°ã§ã¯ã€ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®ä½ç½®ã‚’ã¡ã‚‡ã£ã¨å…¥ã‚Œæ›¿ãˆã‚‹ã ã‘ã§ã€ã‹ã‚“ãŸã‚“ã«å®Ÿç¾å¯èƒ½ã§ã™ã€‚


== é–¢æ•°ã®ã‚«ãƒªãƒ¼åŒ–ã¨éƒ¨åˆ†é©ç”¨

ã“ã®ã‚ˆã†ã«ã€éƒ½å¸‚ã¨æ—¥æ™‚ã¨ã„ã†è¤‡æ•°ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãŒã‚ã‚‹å¤©æ°—äºˆå ±é–¢æ•°ã«ã€ +
éƒ½å¸‚ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã™ã‚Œã°ã€é€±é–“äºˆå ±é–¢æ•° +
æ—¥æ™‚ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã™ã‚Œã°ã€å„åœ°ã®äºˆå ±é–¢æ•°

ã¨ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¾ãŸæœ‰åŠ¹ã«æ´»ç”¨ã§ãã‚‹é–¢æ•°ã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ãªæ–¹æ³•ã€ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®ä¸€éƒ¨åˆ†ã ã‘ã‚’é–¢æ•°ã«é©ç”¨ã™ã‚‹ã‚ˆã†ãªã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’é–¢æ•°ã®éƒ¨åˆ†é©ç”¨(partial application)ã¨å‘¼ã³ã¾ã™ã€‚

ã“ã“ã§èª¬æ˜ã—ãŸã¨ãŠã‚Šã€è¤‡æ•°ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®é–¢æ•°ã‚’ã‚«ãƒªãƒ¼åŒ–ã™ã‚‹ã“ã¨ã§éƒ¨åˆ†é©ç”¨ã‚’å®Ÿç¾å¯èƒ½ã§ã™ãŒã€f(a,b)ã®ã¾ã¾ã§ã€è¨€èªãƒ¬ãƒ™ãƒ«ã§è‡ªå‹•çš„ã«å†…éƒ¨çš„ã«ã‚«ãƒªãƒ¼åŒ–ã—ã¦ã€éƒ¨åˆ†é©ç”¨ã—ãŸã‚‰é–¢æ•°è¿”ã£ã¦ãã‚‹ã¿ãŸã„ãªå®Ÿè£…ã‚‚ã‚ã‚Šã¾ã™ã€‚

https://github.com/tc39/proposal-partial-application


[source,js]
----
f(x, ?)           // partial application from left
f(?, x)           // partial application from right
f(?, x, ?)        // partial application for any arg
----

JavaScriptã®è¨€èªãƒ¬ãƒ™ãƒ«ã§éƒ¨åˆ†é©ç”¨ãŒåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã€

[source,js]
.å¤©æ°—äºˆå ±é–¢æ•°
----
    const forecast =
    ã€€ã€€   (city, date) => weekly[city][date];
----

ã¨å®šç¾©ã—ã¦ã—ã¾ã£ã¦ã‚‚ã€

[source,js]
----
forecast(?, 1)
----

ã¨ã„ã†ã‚ˆã†ã«ã€é…åˆ—ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãã®ã¾ã¾ã®ã‚¢ã‚¯ã‚»ã‚¹æ‰‹æ®µã§ã¯æ‰‹ãŒå±Šã‹ãªã‹ã£ãŸé–¢æ•°ã®éƒ¨åˆ†é©ç”¨ãŒã€ã“ã®å®šç¾©ã®ä»•æ–¹ã®é–¢æ•°ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã®ã§ã€Œæ„å‘³ãŒãªã„ç½®ãæ›ãˆã€ã¨ã¯ãªã‚‰ãªã„ã§ã—ã‚‡ã†ã€‚

ã—ã‹ã—ã€ã©ã†ã›ãŸã‹ã ã‹æ©Ÿæ¢°çš„ã«

[source,js]
.å¤©æ°—äºˆå ±é–¢æ•°
----
    const forecast =
    ã€€ã€€    city => date => weekly[city][date];
----

ãªã©ã¨å®šç¾©æ™‚ã«ã‚«ãƒªãƒ¼åŒ–ã—ã¦ãŠã‚Œã°ã‚ˆã„ã“ã¨ãªã®ã§ã€é–¢æ•°ã®åŸºæœ¬ã«å¿ å®Ÿã«ã€è¤‡æ•°ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®é–¢æ•°ã¯ãªã‚‹ã ã‘ã‚«ãƒªãƒ¼åŒ–ã—ã¦æ‰±ã†ã¨ã„ã†ç¿’æ…£ã‚’èº«ã«ç€ã‘ã¦ãŠã„ãŸã»ã†ãŒã‚¹ãƒãƒ¼ãƒˆã§ã™ã€‚

[source,js]
----
  {
    const times = (a, b) => a * b;

    console.log(
      times(2, 7)
    );
  }
  {
    const times = a => b => a * b;

    console.log(
      times(2)(7)
    );
  }
----

== ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãŒé–¢æ•°ã€ã§ã‚ã‚‹é«˜éšé–¢æ•°

ã“ã“ã¾ã§ã¯ã€ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒé–¢æ•°ã€ã§ã‚ã‚‹é«˜éšé–¢æ•°ã«ã¤ã„ã¦èª¿ã¹ã¾ã—ãŸãŒã€é€†ã«ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãŒé–¢æ•°ã¨ãªã£ã¦ã„ã‚‹é«˜éšé–¢æ•°ã¯ã‚ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ

ã‚ã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€ã“ã‚“ãªæ„Ÿã˜ã®é–¢æ•°ã§ã™ã€‚

image::5-7-2020-08-10-50-AM.png[]

ã€Œå¤©æ°—äºˆå ±ã€ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼é–¢æ•°ã¯ã”å­˜çŸ¥ã®é€šã‚Šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«æ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã‹ã‚‰ã€æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ã„ãŸã„ã‚±ãƒ¼ã‚¹ã¯å¤šã„ã§ã—ã‚‡ã†ã€‚

ã“ã®ã‚ˆã†ãªã¨ãã€ä½•ã§ã‚‚æ§‹ã‚ãªã„ã§ã™ãŒã€ãŸã¨ãˆã°ã€Œæ˜æ—¥ã®æ±äº¬ã®å¤©æ°—ã€é–¢æ•°ã«æœ€æ–°ã®ã€Œå¤©æ°—äºˆå ±ã€ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã—ã¦ã‚„ã‚Œã°è‰¯ã„ã§ã™ã€‚

== ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãŒé–¢æ•°ã€ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒé–¢æ•°ã€ã§ã‚ã‚‹é«˜éšé–¢æ•°

ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚‚ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚‚ä¸¡æ–¹ãŒé–¢æ•°ã«ãªã£ã¦ã„ã‚‹é–¢æ•°ã¯ã€ãŸã¨ãˆã°ã€ã“ã†ãªã‚Šã¾ã™ã€‚

=== å¤©æ°—äºˆå ±ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆé–¢æ•°ï¼‰ãŒã‚¤ãƒ³ãƒ—ãƒƒãƒˆã€å„åœ°ã®å¤©æ°—äºˆå ±ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆé–¢æ•°ï¼‰ãŒã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆ

image::5-7-2020-08-42-49-AM.png[]



=== ç°¡æ˜“ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹



=== ã‚«ãƒªãƒ¼åŒ–(curry)ã€ã‚¢ãƒ³ã‚«ãƒªãƒ¼åŒ–(uncurry)ã™ã‚‹é–¢æ•°

ã‚«ãƒªãƒ¼åŒ–ã€ã‚¢ãƒ³ã‚«ãƒªãƒ¼åŒ–ã€ã¨ç›¸äº’ã«å¤‰æ›ã™ã‚‹é–¢æ•°ã‚’å®šç¾©ã§ãã¾ã™ã€‚

==== ã‚«ãƒªãƒ¼åŒ–(curry)

Before:ã‚«ãƒªãƒ¼åŒ–ã•ã‚Œã¦ã„ãªã„é–¢æ•°ï¼ˆuncurried funcitonï¼‰ +
After: ã‚«ãƒªãƒ¼åŒ–ã•ã‚ŒãŸé–¢æ•°ï¼ˆcurried functionï¼‰ +
ã¨ã„ã†é–¢æ•°

[source,js]
----
  const curry =
    f =>                 //before (uncurried)
      a => b => f(a, b); //after  (curried)
----

==== ã‚¢ãƒ³ã‚«ãƒªãƒ¼åŒ–(uncurry)

Before:ã‚«ãƒªãƒ¼åŒ–ã•ã‚ŒãŸé–¢æ•°ï¼ˆcurried functionï¼‰ +
After: ã‚«ãƒªãƒ¼åŒ–ã•ã‚Œã¦ã„ãªã„é–¢æ•°ï¼ˆuncurried funcitonï¼‰ +
ã¨ã„ã†é–¢æ•°

[source,js]
----
  const uncurry =
    f =>                 //before (curried)
      (a, b) => f(a)(b); //after  (uncurried)
----

ã“ã‚Œã‚‰ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒ2å€‹ã®é–¢æ•°ã‚’æ‰±ã†ã‚‚ã£ã¨ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªã‚±ãƒ¼ã‚¹ã§ã™ãŒã€3å€‹ã®å ´åˆã§ã‚‚abcã¨å¢—ãˆã‚‹ã ã‘ã§åŒã˜ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€‹æ•°ãŒæ±ºã¾ã£ã¦ã„ãªã„ã€ã¨ã„ã†ã‚ˆã‚Šã©ã‚“ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ•°ã®é–¢æ•°ã§ã‚‚æ‰±ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€ã‚‚ã†ã¡ã‚‡ã£ã¨å·¥å¤«ãŒå¿…è¦ã§è¤‡é›‘ã«ãªã£ã¦ãã¾ã™ãŒã€ã‚ªãƒ•ãƒˆãƒ”ãƒƒã‚¯ãªã®ã§ã“ã“ã§ã¯è¸ã¿è¾¼ã¿ã¾ã›ã‚“ã€‚


== é–¢æ•°ã®æ§‹æˆã¯ã‹ã‚“ãŸã‚“ã§è‡ªç”±è‡ªåœ¨

ã“ã®ã‚ˆã†ã«å°‘ãªã„ææ–™ã‹ã‚‰ã§ã‚‚ã€ç”¨é€”ã‚„ç›®çš„ã«å¿œã˜ã¦ã„ãã‚‰ã§ã‚‚é–¢æ•°ã‚’è‡ªç”±è‡ªåœ¨ã«çµ„ã¿ç«‹ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚



[NOTE]
.åˆæˆé–¢æ•°ï¼ˆé–¢æ•°ã®åˆæˆï¼‰ã¨é«˜éšé–¢æ•°ã‚’æ¯”è¼ƒã—ã¦ã¿ã‚ˆã†
====

pic


pic

====



[source,js]
.Console
----
  const identity = a => a;

  const right = a => identity;
  {
    const right = a => b => b;
  }

  const log = msg => right
    (console.log(msg))
    (msg);
----

right ã¯ identityé–¢æ•°ã‚’è¿”ã™é«˜éšé–¢æ•°

console.logã¯ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒundefinedãªã®ã§ä½¿ã„ã«ãã„ã€

log ã¨ã„ã†å€¤ã‚’è¿”ã™é–¢æ•°
åŸºæœ¬ã€msg -> msg ã¨ã„ã†identityã«ãªã£ã¦ã„ã‚‹ãŒã€
å‰¯ä½œç”¨ã¨ã—ã¦ã€ãã®å€¤ã‚’console.logã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã™ã‚‹ã€‚
console.log(msg)ã®è¿”ã‚Šå€¤ã®undefinedã¯æ¨ã¦ã¦ã—ã¾ã†ã€‚

identityãªã®ã§ä»–ã«å½±éŸ¿ã‚’åŠã¼ã™ã“ã¨ãªãã€ç´ é€šã‚Šã™ã‚‹ã€‚

ãƒ‡ãƒãƒƒã‚°ã«ä½¿ãˆã‚‹ã€‚


